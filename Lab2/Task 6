#include<iostream>
using namespace std;

class SafePointer
{
    int *ptr;
public:
    SafePointer()
    {
        ptr = nullptr;
    }
    void setValue(int v)
    {
        if(ptr == nullptr)
        {
            ptr = new int;
        }
        *ptr = v;
    }
    int getValue()
    {
        if(ptr == nullptr)
        {
            return 0;
        }
        return *ptr;
    }
    void release()
    {
        if(ptr != nullptr)
        {
            delete ptr;
            ptr = nullptr;
        }
    }
    ~SafePointer()
    {
        release();
    }
};

int main()
{
    SafePointer students[5];
    for(int i=0;i<5;i++)
    {
        int mark;
        cout<<"Enter mark for student "<<i+1<<": ";
        cin>>mark;
        students[i].setValue(mark);
    }
    cout<<"Marks entered:"<<endl;
    for(int i=0;i<5;i++)
    {
        cout<<students[i].getValue()<<endl;
    }
    return 0;
}
